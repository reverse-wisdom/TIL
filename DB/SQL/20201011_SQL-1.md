> # SQL 정리



```python
git bash에서 sqlite3 실행
#  sqlite3(이름) 파일 생성하기
```



# < 이론 >

### Sqlite

`rowid`

- Interger 속성

- 64비트 2^64

- 사용자가 직접 수정 불가

- `autoincrease`  설정을 적용하지 않음

  - 삭제를 하면 자동으로 숫자를 증가시켜 이전 pk 값은 사용하지 않는 속성

- 따로  PRIMARY KEY 속성으로 ID를 만들게 되면 rowid는 자동 생성되지 않음

- 닷 커맨드로 명령어를 수행(.tables, .schema, .database, ...)

- - SQL문이 아님

    

---



## SQL

- `;`  까지를 하나의 문장으로 판단
  - 중간에 엔터를 치던 ,공백을 엄청 크게 가져가던 세미콜론까지 하나의 문장으로 봄

- 소문자로 작성해도 동작이된다. (대문자 작성을 권장)
- 주석을 한줄 (`--`), 여러중(/* 주석을 입력 */)

---



#### 	DDL: 테이블과 관련된 명령어(CREATE, ALTER, DROP, 생성/수정/삭제)

-  CREATE(테이블 생성)

  - 기본으로 NULL 허용으로 되어있음

  ```sqlite
  CREATE TABLE 테이블명(
  	컬럼명1 데이터타입 [제약조건].
  	컬럼명2 데이터타입 NOT NULL,
  	...
  );
  
  CREATE TABLE flights (
      flight_num TEXT,
      departure TEXT,
      waypoint TEXT,
      arrival TEXT,
      price INT,
  );
  ```

  - 데이터타입

| Data Type               |                                  |
| ----------------------- | -------------------------------- |
| INT or INTEGER          | 정수                             |
| CHAR(n) or CHARACTER(n) | 고정 길이 n을 가지는 문자열()    |
| VARCHAR(n)              | 최대길이가 n인 가변길이의 문자열 |
| FLOART(n)               | 부동 소수점 실수                 |
| DATE                    | 년,월 , 일로 표현되는 날짜       |
| TIME                    | 시, 분 , 초로 표현되는 시간      |
| BLOB                    | 바이너리 값 그대로 저장          |
| TEXT                    | 문자열                           |
|                         |                                  |

- ALTER(수정) (RENAME TO, ADD COLUMN)

  ```sqlite
  ALTER TABLE 테이블명
  REMANE TO 변경할 테이블명;
  
  ALTER TABLE 테이블명
  ADD COLUMN 컬럼명 데이터타입 [제약조건];
  
  ```

- DROP(삭제)

  - ```sqlite
    DROP TABLE 테이블명;
    ```

---

#### DML: Data Manipulation Language(SELECT, INSERT, UPDATE, DELETE)

#### (데이터와 관련된 명령어(조회, 생성, 수정, 삭제)

- SELECT(데이터 조회)

  - DISTINCK: 중복된 갑을 없애고 결과로 반환

    ```sqlite
    SELECT DISTINCT director FROM movies;
    ```

  - 산술 연산 검색

    ```sqli
    SELECT money*100 FROM movies;
    ```

  - 조건검색(WHERE)

    - 기본적인 비교 연산자(>, <, =, !=, ...)
      - 같다는 `=` 로   표현

    - AND, OR
    - LIKE
      - 와일드 카드
        - `%`:0개이상, 있던 없던 해당 패턴과 비슷한 값을 
        - `_`:  1개,  무조건 해당 자리에 어떤 값이 하나가 존재해야 한다.

    - ORDER BY: 정렬(ASC, DESC)

    - GROP BY: 컬러명(HAVING조건)

      - 특정 속성의 데이터를 모아서 그룹을 지을 수 있다.

      - 'HAVING조건' :해당 조건을 만족하는 데이터를 그룹지어 준다.

        



